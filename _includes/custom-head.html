<script>
  MathJax = {
    options: {
      renderActions: {
        addCopyText: [155,
          (doc) => {for (const math of doc.math) MathJax.config.addCopyText(math, doc)},
          (math, doc) => MathJax.config.addCopyText(math, doc)
        ]
      }
    },
    addCopyText(math, doc) {
      const adaptor = doc.adaptor;
      const text = adaptor.node('mjx-copytext', {'aria-hidden': true}, [
        adaptor.text(math.start.delim + math.math + math.end.delim)
      ]);
      adaptor.append(math.typesetRoot, text);
    },
    startup: {
      ready() {
        MathJax._.output.chtml_ts.CHTML.commonStyles['mjx-copytext'] = {
          display: 'inline-block',
          position: 'absolute',
          top: 0, left: 0, width: 0, height: 0,
          opacity: 0,
          overflow: 'hidden'
        };
        MathJax.startup.defaultReady();
      }
    }
  }
</script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
  mjx-container {
    overflow-x: auto;
    overflow-y: hidden;
    max-width: 100%;
    padding:0.1rem 0.2rem;
  }
</style>
